<!DOCTYPE html>
<html>
<head>
    <style>
        :root {
            --primary-color: #4f46e5;
            --hover-color: #4338ca;
            --background-color: #f8fafc;
            --card-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--background-color);
            font-family: system-ui, -apple-system, sans-serif;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 60px;
            padding: 40px 0;
            background: linear-gradient(135deg, #4f46e5 0%, #3b82f6 100%);
            color: white;
            border-radius: 16px;
            box-shadow: var(--card-shadow);
        }

        .header h1 {
            font-size: 2.5em;
            margin: 0 0 16px 0;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
            margin: 0 0 24px 0;
        }

        .search-bar {
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            padding: 16px 24px;
            border: none;
            border-radius: 12px;
            font-size: 1.1em;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .search-bar:focus {
            outline: none;
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        .topics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        .topic-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            transition: transform 0.3s, box-shadow 0.3s;
            box-shadow: var(--card-shadow);
            border: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
            overflow: hidden;
        }

        .topic-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), #3b82f6);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .topic-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }

        .topic-card:hover::before {
            opacity: 1;
        }

        .topic-icon {
            font-size: 2.5em;
            margin-bottom: 16px;
            display: inline-block;
            padding: 8px;
            background: rgba(79, 70, 229, 0.1);
            border-radius: 12px;
        }

        .topic-title {
            font-size: 1.4em;
            font-weight: 600;
            margin-bottom: 16px;
            color: #1e293b;
        }

        .quiz-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .quiz-item {
            padding: 8px 0;
            margin: 8px 0;
            border-radius: 8px;
            transition: all 0.3s;
        }

        .quiz-link {
            text-decoration: none;
            color: #64748b;
            display: block;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s;
            background: transparent;
        }

        .quiz-link:hover {
            color: var(--primary-color);
            background: rgba(79, 70, 229, 0.05);
            padding-left: 24px;
        }

        .topic-stats {
            font-size: 0.9em;
            color: #94a3b8;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid #e2e8f0;
        }

        @media (max-width: 640px) {
            .container {
                padding: 20px;
            }

            .header {
                padding: 30px 20px;
                border-radius: 12px;
            }

            .header h1 {
                font-size: 2em;
            }

            .topics-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }
        }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>üéØ Programming Quiz Hub</h1>
        <p>Enhance your programming skills with interactive quizzes across different technologies</p>
        <input type="text" class="search-bar" placeholder="Search for topics or quizzes...">
    </div>

    <div class="topics-grid">
        <!-- JavaScript Section -->
        <div class="topic-card">
            <div class="topic-icon">üíõ</div>
            <div class="topic-title">JavaScript & TypeCcript</div>
            <ul class="quiz-list">
                <li class="quiz-item">
                    <a href="topics/javascript/javascript-ds-quiz.html" class="quiz-link">Data Structures</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/javascript/js-array-quiz.html" class="quiz-link">Array</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/javascript/arrow-functions-binding.html" class="quiz-link">Arrow Functions & Binding</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/javascript/scope-quiz.html" class="quiz-link">Scope</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/javascript/oop.html" class="quiz-link">OOP</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/javascript/promise-quiz.html" class="quiz-link">Promise</a>
                </li>
            </ul>
            <div class="topic-stats">6 quizzes</div>
        </div>

        <!-- NodeJS Section -->
        <div class="topic-card">
            <div class="topic-icon"> üìó</div>
            <div class="topic-title">NodeJS</div>
            <ul class="quiz-list">
                <li class="quiz-item">
                    <a href="topics/nodejs/nodejs-file-quiz.html" class="quiz-link">File Handling</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/nodejs/nodejs-file-quiz-2.html" class="quiz-link">File Handling (2)</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/nodejs/nodejs-file-quiz-3.html" class="quiz-link">File Handling (3)</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/nodejs/nodejs-core-modules-quiz.html" class="quiz-link">Core Modules</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/nodejs/nodejs-even-emitter.html" class="quiz-link">Event Emitter</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/nodejs/nodejs-buffer.html" class="quiz-link">Buffer</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/nodejs/nodejs-cli-quiz.html" class="quiz-link">CLI</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/nodejs/nodejs-crypto-basic-hash.html" class="quiz-link">Hashing</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/nodejs/nodejs-crypto-basic-encrypt.html" class="quiz-link">Encryption</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/nodejs/nodejs-websocket.html" class="quiz-link">WebSocket</a>
                </li>
            </ul>
            <div class="topic-stats">10 quizzes</div>
        </div>

        <!-- AWS Section -->
        <div class="topic-card">
            <div class="topic-icon">‚òÅÔ∏è</div>
            <div class="topic-title">AWS</div>
            <ul class="quiz-list">
                <li class="quiz-item">
                    <a href="topics/aws/aws-lambda-quiz.html" class="quiz-link">Lambda</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/aws/aws-lambda-coding-quiz.html" class="quiz-link">Lambda (2)</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/aws/ec2-quiz.html" class="quiz-link">EC2</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/aws/ec2-quiz-2.html" class="quiz-link">EC2 (2)</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/aws/rds-quiz.html" class="quiz-link">RDS</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/aws/rds-quiz-2.html" class="quiz-link">RDS (2)</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/aws/s3-encryption-quiz.html" class="quiz-link">S3 Encryption</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/aws/kms-quiz.html" class="quiz-link">KMS</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/aws/cloudwatch-quiz.html" class="quiz-link">Cloudwatch</a>
                </li>

            </ul>
            <div class="topic-stats">9 quizzes</div>
        </div>

        <!-- TypeScript Section -->
        <div class="topic-card">
            <div class="topic-icon">üìò</div>
            <div class="topic-title">TypeScript</div>
            <ul class="quiz-list">
                <li class="quiz-item">
                    <a href="topics/typescript/typescript-operators-quiz.html" class="quiz-link">Operators</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/typescript/typescript-utility-types-quiz.html" class="quiz-link">Utility Types</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/typescript/advanced-typescript-utils-quiz.html" class="quiz-link">Advanced Utils</a>
                </li>
            </ul>
            <div class="topic-stats">3 quizzes</div>
        </div>

        <!-- Express.js Section -->
        <div class="topic-card">
            <div class="topic-icon">üöÇ</div>
            <div class="topic-title">Express.js</div>
            <ul class="quiz-list">
                <li class="quiz-item">
                    <a href="topics/expressjs/expressjs-quiz-1.html" class="quiz-link">Basic</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/expressjs/express-error-handling-quiz-1.html" class="quiz-link">Error Handling (1)</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/expressjs/express-error-handling-quiz-2.html" class="quiz-link">Error Handling (2)</a>
                </li>
            </ul>
            <div class="topic-stats">3 quizzes</div>
        </div>

        <!-- NestJS Section -->
        <div class="topic-card">
            <div class="topic-icon">üê±Ô∏è</div>
            <div class="topic-title">NestJS</div>
            <ul class="quiz-list">
                <li class="quiz-item">
                    <a href="topics/nestjs/nestjs-controller.html" class="quiz-link">Controllers</a>
                </li>
            </ul>
            <div class="topic-stats">1 quiz</div>
        </div>

        <!-- React.js Section -->
        <div class="topic-card">
            <div class="topic-icon">‚öõÔ∏è</div>
            <div class="topic-title">React.js</div>
            <ul class="quiz-list">
                <li class="quiz-item">
                    <a href="topics/reactjs/reactjs-quiz-1.html" class="quiz-link">Fundamentals</a>
                </li>
            </ul>
            <div class="topic-stats">1 quiz</div>
        </div>

        <!-- MongoDB Section -->
        <div class="topic-card">
            <div class="topic-icon">üçÉ</div>
            <div class="topic-title">MongoDB</div>
            <ul class="quiz-list">
                <li class="quiz-item">
                    <a href="topics/mongodb/mongodb-facet-quiz.html" class="quiz-link">Aggregation $Facet</a>
                </li>
            </ul>
            <div class="topic-stats">1 quiz</div>
        </div>

        <!-- Docker Section -->
        <div class="topic-card">
            <div class="topic-icon">üê≥</div>
            <div class="topic-title">Docker</div>
            <ul class="quiz-list">
                <li class="quiz-item">
                    <a href="topics/docker/docker-quiz-1.html" class="quiz-link">Basic</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/docker/docker-instructions.html" class="quiz-link">Instructions</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/docker/docker-instructions-quiz-2.html" class="quiz-link">Instructions (2)</a>
                </li>
            </ul>
            <div class="topic-stats">3 quizzes</div>
        </div>

        <!-- Python Section -->
        <div class="topic-card">
            <div class="topic-icon">üêç</div>
            <div class="topic-title">Python</div>
            <ul class="quiz-list">
                <li class="quiz-item">
                    <a href="topics/python/python-ds-quiz.html" class="quiz-link">Data Structures</a>
                </li>
            </ul>
            <div class="topic-stats">1 quiz</div>
        </div>

        <!-- English Section -->
        <div class="topic-card">
            <div class="topic-icon">üìö</div>
            <div class="topic-title">English</div>
            <ul class="quiz-list">
                <li class="quiz-item">
                    <a href="topics/english/english-tenses-quiz.html" class="quiz-link">Tenses</a>
                </li>
            </ul>
            <div class="topic-stats">1 quiz</div>
        </div>

        <!-- History Section -->
        <div class="topic-card">
            <div class="topic-icon">üìú</div>
            <div class="topic-title">History</div>
            <ul class="quiz-list">
                <li class="quiz-item">
                    <a href="topics/history/vietnam-dynasties-quiz.html" class="quiz-link">Vietnam Dynasties</a>
                </li>
            </ul>
            <div class="topic-stats">1 quiz</div>
        </div>

        <!-- History Section -->
        <div class="topic-card">
            <div class="topic-icon">‚û°Ô∏è</div>
            <div class="topic-title">Linear Algebra</div>
            <ul class="quiz-list">
                <li class="quiz-item">
                    <a href="topics/linear-algebra/basic-vector.html" class="quiz-link">Vectors</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/linear-algebra/linear-transformations-and-matrices.html" class="quiz-link">Linear transformations and matrices</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/linear-algebra/matrix-multiplication-as-composition.html" class="quiz-link">Matrix Multiplication As Composition</a>
                </li>
                <li class="quiz-item">
                    <a href="topics/linear-algebra/determinant.html" class="quiz-link">Matrix Multiplication As Composition</a>
                </li>

            </ul>
            <div class="topic-stats">4 quizzes</div>
        </div>


        <!-- Miscellaneous Section -->
        <div class="topic-card">
            <div class="topic-icon">‚öôÔ∏è</div>
            <div class="topic-title">Miscellaneous</div>
            <ul class="quiz-list">
                <li class="quiz-item">
                    <a href="topics/miscellaneous/ddd-basic-quiz.html" class="quiz-link">Domain-Driven Design</a>
                </li>
            </ul>
            <div class="topic-stats">1 quiz</div>
        </div>
    </div>
</div>

<script>





    const searchBar = document.querySelector('.search-bar');
    const topicCards = document.querySelectorAll('.topic-card');

    searchBar.addEventListener('input', (e) => {
        const searchTerm = e.target.value.toLowerCase();

        topicCards.forEach(card => {
            const title = card.querySelector('.topic-title').textContent.toLowerCase();
            const quizzes = Array.from(card.querySelectorAll('.quiz-link'))
                .map(link => link.textContent.toLowerCase());

            const matches = title.includes(searchTerm) ||
                quizzes.some(quiz => quiz.includes(searchTerm));

            card.style.display = matches ? 'block' : 'none';
        });
    });

    const checkForUpdates = async () => {
        try {
            const response = await fetch('./version.txt?' + new Date().getTime());
            const latestVersion = await response.text().then(v => v.trim());
            const currentVersion = localStorage.getItem('appVersion');

            // Debug logs
            console.log('Current stored version:', currentVersion);
            console.log('Latest version from server:', latestVersion);

            if (!currentVersion) {
                // First time visit, just store the version
                localStorage.setItem('appVersion', latestVersion);
            } else if (currentVersion !== latestVersion) {
                // Show alert for update
                const shouldUpdate = confirm('A new version is available.\n' +
                    'Click OK to reload and get the latest updates.');

                if (shouldUpdate) {
                    try {
                        // Clear all caches
                        const cacheKeys = await caches.keys();
                        await Promise.all(cacheKeys.map(key => caches.delete(key)));
                        localStorage.clear();
                        localStorage.setItem('appVersion', latestVersion);
                        sessionStorage.clear();
                        if (window.applicationCache) {
                            window.applicationCache.abort();
                        }
                        window.location.reload(true);
                    } catch (error) {
                        console.error('Error clearing cache:', error);
                    }
                }
            }
        } catch (error) {
            console.error('Error checking for updates:', error);
        }
    };

    // Initial check when page loads
    checkForUpdates();

    // Check every 5 minutes (300000 ms)
    setInterval(checkForUpdates, 300000);
</script>
</body>
</html>
